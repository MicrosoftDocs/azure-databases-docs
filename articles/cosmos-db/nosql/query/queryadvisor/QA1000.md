---
title: QA1000 - ARRAY_CONTAINS
titleSuffix: Azure Cosmos DB for NoSQL
description: The query uses ARRAY_CONTAINS with the third argument set to true, which checks for a partial match.
author: jcodella
ms.author: jacodel
ms.service: azure-cosmos-db
ms.subservice: nosql
ms.topic: reference
ms.devlang: nosql
ms.date: 11/04/2025
---

# QA1000: Array contains with partial matching

| Property      | Value            |
|---------------|------------------|
| RuleID        | QA1000           |
| Title         | PartialArrayContains |
| Category      | Performance      |

## Cause
The query uses `ARRAY_CONTAINS` with the third argument set to `true`, which checks for a partial match.

## Rule description
Using `ARRAY_CONTAINS` for partial matches can lead to inefficient query execution.

## Recommendation
Replace `ARRAY_CONTAINS` with `VALUE EXISTS` and a subquery for better performance.

## Example
Original query:

```sql
SELECT VALUE ARRAY_CONTAINS(c.auditEvents, {“type”:”invoice”,”status”:”Success”}, true) 
FROM c
```

Updated query:
```sql
SELECT VALUE EXISTS 
(
	 SELECT VALUE t 
	 FROM t IN c.auditEvents 
	 WHERE t.type = “invoice” AND t.status = “success”
) 
FROM c
```